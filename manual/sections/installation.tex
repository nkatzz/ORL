\section{Installation}
\label{sec:install}
In order to build \trail \ from source you need to have a JDK installed (e.g. OpenJDK, or OracleJDK), version 8 or higher. You will also need SBT, the Scala Build Tool\footnote{\url{https://www.scala-sbt.org/}} (version 1.3.9 has been used with the code). \trail \ relies on the \clingo \ ASP solver\footnote{\url{https://potassco.org/clingo/}}. At the time of writing the latest \clingo \ release is v5.4.0. \trail \ won't work with \clingo \ version prior to v5.x.x. Due to the fact that \clingo's API is also used in \trail, Python 2.7 is also required to use the software.  

\subsection{Building \trail \ from Source}

The source code comes with an installation script, which takes care of several dependencies that are necessary for \clingo \ v5.4.0, as well as \clingo \ itself. The script also installs \lomrf\footnote{\url{https://github.com/anskarl/LoMRF}}, a library for Markov Logic Networks, which is used by some algorithms in \trail, mostly in order to compare Markov Logic-based to ASP-based tools for statistical relational learning. Using the script is the easiest way to install \trail. It has been tested on Ubuntu 18.04, but it should work on other Linux distributions that use apt for package management. If you encounter problems running the script it is recommended that you first try to install \clingo \ manually, by building it from source. Then comment-out the part of the script that is related to installing \clingo \ and re-run the installation script to get \lomrf. To build \clingo \ from source follow the instructions provided from the \clingo \ team\footnote{\url{https://github.com/potassco/clingo}}, keeping in mind that it is \textbf{mandatory} to build \clingo \ while enabling Python support (\clingo's Python API). \\

\noindent Clone or download the source code from \url{https://github.com/nkatzz/ORL} and cd into the root directory. 

\begin{remark}
	In what follows we refer to the root directory where the \trail \ source code has been cloned into by \textbf{\code{\trailhome}}.
\end{remark}

\noindent To run \trail's installation script (sudo privileges required): \\ 


\noindent \inputcmd{> cd \trailhome/install-scripts} \\
\noindent \inputcmd{> ./install.sh} \\


\noindent The script will create a ``\code{dependencies}'' directory in the root directory of the source code, where \clingo \ will be located. When running \trail \ the \texttt{dependencies} directory is assumed by default to be the location where the \clingo \ tools reside. In particular, the \code{clingo} \ executable file that will be used by \trail \ by default will be located in \code{dependencies/clingo/build/bin}. To make sure that \clingo \ has been built properly you can cd into that directory and type \code{clingo --version} \ in a terminal. The result should look similar to the one below: \\

\noindent \inputcmd{> clingo --version}

\noindent \cmdout{clingo version 5.4.0}

\noindent \cmdout{\large \ldots}

\noindent \cmdout{Configuration: with Python 2.7.17, with Lua 5.2.4}\\


\noindent If you have \clingo \ installed on your machine prior to building \trail \ and you wish to use the existing version of \clingo \ with \trail \ (assuming it is version v5.x.x and it is properly configured), it is possible at runtime to override the default \clingo \ build that is generated by the installation script (see Section \ref{sec:cmd}). 

\subsection{Generating a Jar File}
\label{sec:jar}
Once installed, the \trail \ tools may be used via a java jar file. To generate the jar file do: \\

\noindent \inputcmd{> cd \trailhome} \\
\noindent \inputcmd{> sbt assembly} \\
 
\noindent The jar file will then be located in the \code{\trailhome/target/scala-2.12} \ directory (named as \code{trail-x.x-SNAPSHOT.jar} \ -- for instance, \code{trail-0.1-SNAPSHOT.jar}). \\

\noindent To run the application: \\

\noindent \inputcmd{> java -cp \trailhome/target/scala-2.12/trail-x.x-SNAPSHOT.jar \textbackslash \\ \hspace*{2cm}<\emph{Runner}> \textbackslash \\ 
\hspace*{1.8cm}	<\emph{Mandatory args}> \textbackslash \\   
\hspace*{1.8cm}	<\emph{Optional args}>} \\

\noindent where \emph{Runner} is the name of a ``main'' class in \trail, which varies according to the tasks that the user wishes to run. Such main classes, in addition to mandatory \& optional runtime arguments will be discussed in detail in the following sections. \\

\begin{remark}
	To simplify the presentation in what follows we use \textbf{``\code{trailrun}''} as a \textbf{name alias} for  \code{java -cp path-to-jar/trail-x.x-SNAPSHOT.jar}. For example, with this convention the command template above could had been written as \\
	
	\noindent \inputcmd{> \trailrun \ <\emph{Runner}> <\emph{Mandatory args}> <\emph{Optional args}>}
\end{remark}

%\begin{comment}
\subsection{Using \trail \  as a Library}
\trail \ may be used as a library (external dependency) available to other projects that may use its functionality. To allow for that type:

\noindent \code{> sbt assembly} \\

\noindent in a terminal from within the root directory on the \trail \ source code.
%\end{comment}  

\newpage

 

